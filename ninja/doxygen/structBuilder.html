<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Ninja: Builder Struct Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ninja
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Builder Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Builder" -->
<p><a class="el" href="structBuilder.html" title="Builder wraps the build process: starting commands, updating status.">Builder</a> wraps the build process: starting commands, updating status.  
 <a href="structBuilder.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="build_8h_source.html">build.h</a>&gt;</code></p>

<p><a href="structBuilder-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structNode.html">Node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#aacbe026e5a186342d39939ea003e7ebc">AddTarget</a> (const string &amp;name, string *err)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a3b12ba4387f2886d0cdd86985e255af4">AddTarget</a> (<a class="el" href="structNode.html">Node</a> *target, string *err)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a target to the build, scanning dependencies.  <a href="#a3b12ba4387f2886d0cdd86985e255af4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a608d1a92e0970bf3c18f0512bb8b5c62">AlreadyUpToDate</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the build targets are already up to date.  <a href="#a608d1a92e0970bf3c18f0512bb8b5c62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a8c2b02f9c4f068cbb57c56052310a6c4">Build</a> (string *err)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the build.  <a href="#a8c2b02f9c4f068cbb57c56052310a6c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a9e194d6607b036edb3f6e887e9b9cd49">Builder</a> (<a class="el" href="structState.html">State</a> *state, const <a class="el" href="structBuildConfig.html">BuildConfig</a> &amp;config, <a class="el" href="structBuildLog.html">BuildLog</a> *build_log, <a class="el" href="structDepsLog.html">DepsLog</a> *deps_log, <a class="el" href="structDiskInterface.html">DiskInterface</a> *disk_interface)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a4dd6ad3b2ead85478be0cb9656a2ad8e">Cleanup</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up after interrupted commands by deleting output files.  <a href="#a4dd6ad3b2ead85478be0cb9656a2ad8e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a2fde50693215210a556a5bd82b0231d0">FinishCommand</a> (<a class="el" href="structCommandRunner_1_1Result.html">CommandRunner::Result</a> *result, string *err)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update status ninja logs following a command termination.  <a href="#a2fde50693215210a556a5bd82b0231d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#aea861ef68a2a1c72370ba9a8c0bf1c17">SetBuildLog</a> (<a class="el" href="structBuildLog.html">BuildLog</a> *log)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for tests.  <a href="#aea861ef68a2a1c72370ba9a8c0bf1c17"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a66ff07bb0a3afc4651c8cd362a90831e">StartEdge</a> (<a class="el" href="structEdge.html">Edge</a> *edge, string *err)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a850f1a4be35da17638a4a1ef20bf1401">~Builder</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">auto_ptr&lt; <a class="el" href="structCommandRunner.html">CommandRunner</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#ac1c747be80fc038e88f14d98280b95f9">command_runner_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structBuildConfig.html">BuildConfig</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a982b2b7e9d5a7fcc3bf1082b1dfa8c7a">config_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structPlan.html">Plan</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a2de7a62776a4c75650e3411928d22018">plan_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structState.html">State</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a2c8ce0c9427c6bdc1084d3017d72a253">state_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBuildStatus.html">BuildStatus</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a59667bcfda51f953a771430f4571b7c2">status_</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#ae520f13f1eff0edb5c6991c3cc1b8e01">Builder</a> (const <a class="el" href="structBuilder.html">Builder</a> &amp;other)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a1d1da3f88460e22b7f58aeaf1ad74b85">ExtractDeps</a> (<a class="el" href="structCommandRunner_1_1Result.html">CommandRunner::Result</a> *result, const string &amp;deps_type, const string &amp;deps_prefix, vector&lt; <a class="el" href="structNode.html">Node</a> * &gt; *deps_nodes, string *err)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#a9f13eddfc1bfa5622f87e7b2033c481a">operator=</a> (const <a class="el" href="structBuilder.html">Builder</a> &amp;other)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDiskInterface.html">DiskInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#aafffa035b2c7c6c492648f136a86082c">disk_interface_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDependencyScan.html">DependencyScan</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuilder.html#af7f51c4af87bcef4d9fbc510af2a45a5">scan_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="structBuilder.html" title="Builder wraps the build process: starting commands, updating status.">Builder</a> wraps the build process: starting commands, updating status. </p>

<p>Definition at line <a class="el" href="build_8h_source.html#l00143">143</a> of file <a class="el" href="build_8h_source.html">build.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9e194d6607b036edb3f6e887e9b9cd49"></a><!-- doxytag: member="Builder::Builder" ref="a9e194d6607b036edb3f6e887e9b9cd49" args="(State *state, const BuildConfig &amp;config, BuildLog *build_log, DepsLog *deps_log, DiskInterface *disk_interface)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBuilder.html#a9e194d6607b036edb3f6e887e9b9cd49">Builder::Builder</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structState.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structBuildConfig.html">BuildConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBuildLog.html">BuildLog</a> *&#160;</td>
          <td class="paramname"><em>build_log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDepsLog.html">DepsLog</a> *&#160;</td>
          <td class="paramname"><em>deps_log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDiskInterface.html">DiskInterface</a> *&#160;</td>
          <td class="paramname"><em>disk_interface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8cc_source.html#l00525">525</a> of file <a class="el" href="build_8cc_source.html">build.cc</a>.</p>

<p>References <a class="el" href="build_8h_source.html#l00180">status_</a>.</p>

</div>
</div>
<a class="anchor" id="a850f1a4be35da17638a4a1ef20bf1401"></a><!-- doxytag: member="Builder::~Builder" ref="a850f1a4be35da17638a4a1ef20bf1401" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBuilder.html#a850f1a4be35da17638a4a1ef20bf1401">Builder::~Builder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8cc_source.html#l00533">533</a> of file <a class="el" href="build_8cc_source.html">build.cc</a>.</p>

<p>References <a class="el" href="build_8cc_source.html#l00537">Cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="ae520f13f1eff0edb5c6991c3cc1b8e01"></a><!-- doxytag: member="Builder::Builder" ref="ae520f13f1eff0edb5c6991c3cc1b8e01" args="(const Builder &amp;other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBuilder.html#a9e194d6607b036edb3f6e887e9b9cd49">Builder::Builder</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structBuilder.html">Builder</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aacbe026e5a186342d39939ea003e7ebc"></a><!-- doxytag: member="Builder::AddTarget" ref="aacbe026e5a186342d39939ea003e7ebc" args="(const string &amp;name, string *err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structNode.html">Node</a> * <a class="el" href="structBuilder.html#aacbe026e5a186342d39939ea003e7ebc">Builder::AddTarget</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8cc_source.html#l00565">565</a> of file <a class="el" href="build_8cc_source.html">build.cc</a>.</p>

<p>References <a class="el" href="state_8cc_source.html#l00123">State::LookupNode()</a>, and <a class="el" href="build_8h_source.html#l00176">state_</a>.</p>

<p>Referenced by <a class="el" href="build__test_8cc_source.html#l00479">BuildTest::RebuildTarget()</a>, and <a class="el" href="build__test_8cc_source.html#l01561">TEST_F()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b12ba4387f2886d0cdd86985e255af4"></a><!-- doxytag: member="Builder::AddTarget" ref="a3b12ba4387f2886d0cdd86985e255af4" args="(Node *target, string *err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structBuilder.html#aacbe026e5a186342d39939ea003e7ebc">Builder::AddTarget</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNode.html">Node</a> *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a target to the build, scanning dependencies. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>false on error. </dd></dl>

<p>Definition at line <a class="el" href="build_8cc_source.html#l00576">576</a> of file <a class="el" href="build_8cc_source.html">build.cc</a>.</p>

<p>References <a class="el" href="build_8cc_source.html#l00263">Plan::AddTarget()</a>, <a class="el" href="build_8h_source.html#l00187">disk_interface_</a>, <a class="el" href="graph_8h_source.html#l00080">Node::in_edge()</a>, <a class="el" href="build_8h_source.html#l00178">plan_</a>, <a class="el" href="graph_8cc_source.html#l00060">DependencyScan::RecomputeDirty()</a>, <a class="el" href="build_8h_source.html#l00188">scan_</a>, and <a class="el" href="graph_8h_source.html#l00047">Node::StatIfNecessary()</a>.</p>

</div>
</div>
<a class="anchor" id="a608d1a92e0970bf3c18f0512bb8b5c62"></a><!-- doxytag: member="Builder::AlreadyUpToDate" ref="a608d1a92e0970bf3c18f0512bb8b5c62" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structBuilder.html#a608d1a92e0970bf3c18f0512bb8b5c62">Builder::AlreadyUpToDate</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if the build targets are already up to date. </p>

<p>Definition at line <a class="el" href="build_8cc_source.html#l00591">591</a> of file <a class="el" href="build_8cc_source.html">build.cc</a>.</p>

<p>References <a class="el" href="build_8h_source.html#l00054">Plan::more_to_do()</a>, and <a class="el" href="build_8h_source.html#l00178">plan_</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00595">Build()</a>, and <a class="el" href="build__test_8cc_source.html#l00479">BuildTest::RebuildTarget()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c2b02f9c4f068cbb57c56052310a6c4"></a><!-- doxytag: member="Builder::Build" ref="a8c2b02f9c4f068cbb57c56052310a6c4" args="(string *err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structBuilder.html#a8c2b02f9c4f068cbb57c56052310a6c4">Builder::Build</a> </td>
          <td>(</td>
          <td class="paramtype">string *&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Run the build. </p>
<p>Returns false on error. It is an error to call this function when <a class="el" href="structBuilder.html#a608d1a92e0970bf3c18f0512bb8b5c62" title="Returns true if the build targets are already up to date.">AlreadyUpToDate()</a> is true. </p>

<p>Definition at line <a class="el" href="build_8cc_source.html#l00595">595</a> of file <a class="el" href="build_8cc_source.html">build.cc</a>.</p>

<p>References <a class="el" href="build_8cc_source.html#l00591">AlreadyUpToDate()</a>, <a class="el" href="build_8cc_source.html#l00153">BuildStatus::BuildFinished()</a>, <a class="el" href="build_8cc_source.html#l00537">Cleanup()</a>, <a class="el" href="build_8h_source.html#l00067">Plan::command_edge_count()</a>, <a class="el" href="build_8h_source.html#l00179">command_runner_</a>, <a class="el" href="build_8h_source.html#l00177">config_</a>, <a class="el" href="build_8h_source.html#l00134">BuildConfig::dry_run</a>, <a class="el" href="build_8cc_source.html#l00370">Plan::EdgeFinished()</a>, <a class="el" href="exit__status_8h_source.html#l00021">ExitInterrupted</a>, <a class="el" href="build_8h_source.html#l00136">BuildConfig::failures_allowed</a>, <a class="el" href="build_8cc_source.html#l00339">Plan::FindWork()</a>, <a class="el" href="build_8cc_source.html#l00715">FinishCommand()</a>, <a class="el" href="graph_8cc_source.html#l00323">Edge::is_phony()</a>, <a class="el" href="build_8h_source.html#l00054">Plan::more_to_do()</a>, <a class="el" href="build_8h_source.html#l00178">plan_</a>, <a class="el" href="build_8cc_source.html#l00090">BuildStatus::PlanHasTotalEdges()</a>, <a class="el" href="build_8cc_source.html#l00682">StartEdge()</a>, <a class="el" href="build_8h_source.html#l00112">CommandRunner::Result::status</a>, <a class="el" href="build_8h_source.html#l00180">status_</a>, and <a class="el" href="build_8h_source.html#l00114">CommandRunner::Result::success()</a>.</p>

<p>Referenced by <a class="el" href="build__test_8cc_source.html#l00479">BuildTest::RebuildTarget()</a>, and <a class="el" href="build__test_8cc_source.html#l01561">TEST_F()</a>.</p>

</div>
</div>
<a class="anchor" id="a4dd6ad3b2ead85478be0cb9656a2ad8e"></a><!-- doxytag: member="Builder::Cleanup" ref="a4dd6ad3b2ead85478be0cb9656a2ad8e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structBuilder.html#a4dd6ad3b2ead85478be0cb9656a2ad8e">Builder::Cleanup</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clean up after interrupted commands by deleting output files. </p>

<p>Definition at line <a class="el" href="build_8cc_source.html#l00537">537</a> of file <a class="el" href="build_8cc_source.html">build.cc</a>.</p>

<p>References <a class="el" href="build_8h_source.html#l00179">command_runner_</a>, <a class="el" href="build_8h_source.html#l00187">disk_interface_</a>, <a class="el" href="structDiskInterface.html#ad7442b7e0b10e0737c56667d967e9f76">DiskInterface::RemoveFile()</a>, and <a class="el" href="structDiskInterface.html#a1095cf31175f95f005fc38b28683b0cb">DiskInterface::Stat()</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00595">Build()</a>, and <a class="el" href="build_8cc_source.html#l00533">~Builder()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d1da3f88460e22b7f58aeaf1ad74b85"></a><!-- doxytag: member="Builder::ExtractDeps" ref="a1d1da3f88460e22b7f58aeaf1ad74b85" args="(CommandRunner::Result *result, const string &amp;deps_type, const string &amp;deps_prefix, vector&lt; Node * &gt; *deps_nodes, string *err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structBuilder.html#a1d1da3f88460e22b7f58aeaf1ad74b85">Builder::ExtractDeps</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCommandRunner_1_1Result.html">CommandRunner::Result</a> *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>deps_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>deps_prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; <a class="el" href="structNode.html">Node</a> * &gt; *&#160;</td>
          <td class="paramname"><em>deps_nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8cc_source.html#l00815">815</a> of file <a class="el" href="build_8cc_source.html">build.cc</a>.</p>

<p>References <a class="el" href="util_8cc_source.html#l00088">CanonicalizePath()</a>, <a class="el" href="build_8h_source.html#l00187">disk_interface_</a>, <a class="el" href="build_8h_source.html#l00111">CommandRunner::Result::edge</a>, <a class="el" href="util_8cc_source.html#l00052">Fatal()</a>, <a class="el" href="state_8cc_source.html#l00114">State::GetNode()</a>, <a class="el" href="graph_8cc_source.html#l00292">Edge::GetUnescapedDepfile()</a>, <a class="el" href="msvc__helper_8h_source.html#l00047">CLParser::includes_</a>, <a class="el" href="depfile__parser_8h_source.html#l00032">DepfileParser::ins_</a>, <a class="el" href="build_8h_source.html#l00113">CommandRunner::Result::output</a>, <a class="el" href="depfile__parser_8cc_source.html#l00032">DepfileParser::Parse()</a>, <a class="el" href="msvc__helper-win32_8cc_source.html#l00085">CLParser::Parse()</a>, <a class="el" href="structDiskInterface.html#aed889f19b478039bd8d315fe965440ea">DiskInterface::ReadFile()</a>, <a class="el" href="structDiskInterface.html#ad7442b7e0b10e0737c56667d967e9f76">DiskInterface::RemoveFile()</a>, and <a class="el" href="build_8h_source.html#l00176">state_</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00715">FinishCommand()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fde50693215210a556a5bd82b0231d0"></a><!-- doxytag: member="Builder::FinishCommand" ref="a2fde50693215210a556a5bd82b0231d0" args="(CommandRunner::Result *result, string *err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structBuilder.html#a2fde50693215210a556a5bd82b0231d0">Builder::FinishCommand</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCommandRunner_1_1Result.html">CommandRunner::Result</a> *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update status ninja logs following a command termination. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>false if the build can not proceed further due to a fatal error. </dd></dl>

<p>Definition at line <a class="el" href="build_8cc_source.html#l00715">715</a> of file <a class="el" href="build_8cc_source.html">build.cc</a>.</p>

<p>References <a class="el" href="graph_8h_source.html#l00255">DependencyScan::build_log()</a>, <a class="el" href="build_8cc_source.html#l00105">BuildStatus::BuildEdgeFinished()</a>, <a class="el" href="build_8cc_source.html#l00409">Plan::CleanNode()</a>, <a class="el" href="build_8h_source.html#l00067">Plan::command_edge_count()</a>, <a class="el" href="build_8h_source.html#l00177">config_</a>, <a class="el" href="graph_8h_source.html#l00262">DependencyScan::deps_log()</a>, <a class="el" href="build_8h_source.html#l00187">disk_interface_</a>, <a class="el" href="build_8h_source.html#l00134">BuildConfig::dry_run</a>, <a class="el" href="build_8h_source.html#l00111">CommandRunner::Result::edge</a>, <a class="el" href="build_8cc_source.html#l00370">Plan::EdgeFinished()</a>, <a class="el" href="exit__status_8h_source.html#l00020">ExitFailure</a>, <a class="el" href="build_8cc_source.html#l00815">ExtractDeps()</a>, <a class="el" href="debug__flags_8cc_source.html#l00017">g_keep_rsp</a>, <a class="el" href="graph_8cc_source.html#l00283">Edge::GetBinding()</a>, <a class="el" href="graph_8cc_source.html#l00288">Edge::GetBindingBool()</a>, <a class="el" href="graph_8cc_source.html#l00292">Edge::GetUnescapedDepfile()</a>, <a class="el" href="graph_8cc_source.html#l00297">Edge::GetUnescapedRspfile()</a>, <a class="el" href="graph_8h_source.html#l00162">Edge::inputs_</a>, <a class="el" href="metrics_8h_source.html#l00085">METRIC_RECORD</a>, <a class="el" href="graph_8h_source.html#l00182">Edge::order_only_deps_</a>, <a class="el" href="build_8h_source.html#l00113">CommandRunner::Result::output</a>, <a class="el" href="graph_8h_source.html#l00163">Edge::outputs_</a>, <a class="el" href="build_8h_source.html#l00178">plan_</a>, <a class="el" href="build_8cc_source.html#l00090">BuildStatus::PlanHasTotalEdges()</a>, <a class="el" href="build__log_8cc_source.html#l00140">BuildLog::RecordCommand()</a>, <a class="el" href="deps__log_8cc_source.html#l00080">DepsLog::RecordDeps()</a>, <a class="el" href="structDiskInterface.html#ad7442b7e0b10e0737c56667d967e9f76">DiskInterface::RemoveFile()</a>, <a class="el" href="build_8h_source.html#l00188">scan_</a>, <a class="el" href="structDiskInterface.html#a1095cf31175f95f005fc38b28683b0cb">DiskInterface::Stat()</a>, <a class="el" href="build_8h_source.html#l00112">CommandRunner::Result::status</a>, <a class="el" href="build_8h_source.html#l00180">status_</a>, and <a class="el" href="build_8h_source.html#l00114">CommandRunner::Result::success()</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00595">Build()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f13eddfc1bfa5622f87e7b2033c481a"></a><!-- doxytag: member="Builder::operator=" ref="a9f13eddfc1bfa5622f87e7b2033c481a" args="(const Builder &amp;other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Builder::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structBuilder.html">Builder</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aea861ef68a2a1c72370ba9a8c0bf1c17"></a><!-- doxytag: member="Builder::SetBuildLog" ref="aea861ef68a2a1c72370ba9a8c0bf1c17" args="(BuildLog *log)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structBuilder.html#aea861ef68a2a1c72370ba9a8c0bf1c17">Builder::SetBuildLog</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBuildLog.html">BuildLog</a> *&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used for tests. </p>

<p>Definition at line <a class="el" href="build_8h_source.html#l00172">172</a> of file <a class="el" href="build_8h_source.html">build.h</a>.</p>

<p>References <a class="el" href="build_8h_source.html#l00188">scan_</a>, and <a class="el" href="graph_8h_source.html#l00258">DependencyScan::set_build_log()</a>.</p>

<p>Referenced by <a class="el" href="build__test_8cc_source.html#l01031">BuildWithLogTest::BuildWithLogTest()</a>.</p>

</div>
</div>
<a class="anchor" id="a66ff07bb0a3afc4651c8cd362a90831e"></a><!-- doxytag: member="Builder::StartEdge" ref="a66ff07bb0a3afc4651c8cd362a90831e" args="(Edge *edge, string *err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structBuilder.html#a66ff07bb0a3afc4651c8cd362a90831e">Builder::StartEdge</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structEdge.html">Edge</a> *&#160;</td>
          <td class="paramname"><em>edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8cc_source.html#l00682">682</a> of file <a class="el" href="build_8cc_source.html">build.cc</a>.</p>

<p>References <a class="el" href="build_8cc_source.html#l00094">BuildStatus::BuildEdgeStarted()</a>, <a class="el" href="build_8h_source.html#l00179">command_runner_</a>, <a class="el" href="build_8h_source.html#l00187">disk_interface_</a>, <a class="el" href="graph_8cc_source.html#l00273">Edge::EvaluateCommand()</a>, <a class="el" href="graph_8cc_source.html#l00283">Edge::GetBinding()</a>, <a class="el" href="graph_8cc_source.html#l00297">Edge::GetUnescapedRspfile()</a>, <a class="el" href="graph_8cc_source.html#l00323">Edge::is_phony()</a>, <a class="el" href="disk__interface_8cc_source.html#l00134">DiskInterface::MakeDirs()</a>, <a class="el" href="metrics_8h_source.html#l00085">METRIC_RECORD</a>, <a class="el" href="graph_8h_source.html#l00163">Edge::outputs_</a>, <a class="el" href="build_8h_source.html#l00180">status_</a>, and <a class="el" href="structDiskInterface.html#afcfaed359bb8ba121bba9838c02c2483">DiskInterface::WriteFile()</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00595">Build()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ac1c747be80fc038e88f14d98280b95f9"></a><!-- doxytag: member="Builder::command_runner_" ref="ac1c747be80fc038e88f14d98280b95f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto_ptr&lt;<a class="el" href="structCommandRunner.html">CommandRunner</a>&gt; <a class="el" href="structBuilder.html#ac1c747be80fc038e88f14d98280b95f9">Builder::command_runner_</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8h_source.html#l00179">179</a> of file <a class="el" href="build_8h_source.html">build.h</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00595">Build()</a>, <a class="el" href="build_8cc_source.html#l00537">Cleanup()</a>, <a class="el" href="build__test_8cc_source.html#l00479">BuildTest::RebuildTarget()</a>, <a class="el" href="build__test_8cc_source.html#l00436">BuildTest::SetUp()</a>, <a class="el" href="build_8cc_source.html#l00682">StartEdge()</a>, <a class="el" href="build__test_8cc_source.html#l01561">TEST_F()</a>, and <a class="el" href="build__test_8cc_source.html#l00449">BuildTest::~BuildTest()</a>.</p>

</div>
</div>
<a class="anchor" id="a982b2b7e9d5a7fcc3bf1082b1dfa8c7a"></a><!-- doxytag: member="Builder::config_" ref="a982b2b7e9d5a7fcc3bf1082b1dfa8c7a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structBuildConfig.html">BuildConfig</a>&amp; <a class="el" href="structBuilder.html#a982b2b7e9d5a7fcc3bf1082b1dfa8c7a">Builder::config_</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8h_source.html#l00177">177</a> of file <a class="el" href="build_8h_source.html">build.h</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00595">Build()</a>, and <a class="el" href="build_8cc_source.html#l00715">FinishCommand()</a>.</p>

</div>
</div>
<a class="anchor" id="aafffa035b2c7c6c492648f136a86082c"></a><!-- doxytag: member="Builder::disk_interface_" ref="aafffa035b2c7c6c492648f136a86082c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDiskInterface.html">DiskInterface</a>* <a class="el" href="structBuilder.html#aafffa035b2c7c6c492648f136a86082c">Builder::disk_interface_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8h_source.html#l00187">187</a> of file <a class="el" href="build_8h_source.html">build.h</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00576">AddTarget()</a>, <a class="el" href="build_8cc_source.html#l00537">Cleanup()</a>, <a class="el" href="build_8cc_source.html#l00815">ExtractDeps()</a>, <a class="el" href="build_8cc_source.html#l00715">FinishCommand()</a>, and <a class="el" href="build_8cc_source.html#l00682">StartEdge()</a>.</p>

</div>
</div>
<a class="anchor" id="a2de7a62776a4c75650e3411928d22018"></a><!-- doxytag: member="Builder::plan_" ref="a2de7a62776a4c75650e3411928d22018" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPlan.html">Plan</a> <a class="el" href="structBuilder.html#a2de7a62776a4c75650e3411928d22018">Builder::plan_</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8h_source.html#l00178">178</a> of file <a class="el" href="build_8h_source.html">build.h</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00576">AddTarget()</a>, <a class="el" href="build_8cc_source.html#l00591">AlreadyUpToDate()</a>, <a class="el" href="build_8cc_source.html#l00595">Build()</a>, and <a class="el" href="build_8cc_source.html#l00715">FinishCommand()</a>.</p>

</div>
</div>
<a class="anchor" id="af7f51c4af87bcef4d9fbc510af2a45a5"></a><!-- doxytag: member="Builder::scan_" ref="af7f51c4af87bcef4d9fbc510af2a45a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDependencyScan.html">DependencyScan</a> <a class="el" href="structBuilder.html#af7f51c4af87bcef4d9fbc510af2a45a5">Builder::scan_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8h_source.html#l00188">188</a> of file <a class="el" href="build_8h_source.html">build.h</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00576">AddTarget()</a>, <a class="el" href="build_8cc_source.html#l00715">FinishCommand()</a>, and <a class="el" href="build_8h_source.html#l00172">SetBuildLog()</a>.</p>

</div>
</div>
<a class="anchor" id="a2c8ce0c9427c6bdc1084d3017d72a253"></a><!-- doxytag: member="Builder::state_" ref="a2c8ce0c9427c6bdc1084d3017d72a253" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structState.html">State</a>* <a class="el" href="structBuilder.html#a2c8ce0c9427c6bdc1084d3017d72a253">Builder::state_</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8h_source.html#l00176">176</a> of file <a class="el" href="build_8h_source.html">build.h</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00565">AddTarget()</a>, and <a class="el" href="build_8cc_source.html#l00815">ExtractDeps()</a>.</p>

</div>
</div>
<a class="anchor" id="a59667bcfda51f953a771430f4571b7c2"></a><!-- doxytag: member="Builder::status_" ref="a59667bcfda51f953a771430f4571b7c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBuildStatus.html">BuildStatus</a>* <a class="el" href="structBuilder.html#a59667bcfda51f953a771430f4571b7c2">Builder::status_</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="build_8h_source.html#l00180">180</a> of file <a class="el" href="build_8h_source.html">build.h</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00595">Build()</a>, <a class="el" href="build_8cc_source.html#l00525">Builder()</a>, <a class="el" href="build_8cc_source.html#l00715">FinishCommand()</a>, and <a class="el" href="build_8cc_source.html#l00682">StartEdge()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li><a class="el" href="build_8h_source.html">build.h</a></li>
<li><a class="el" href="build_8cc_source.html">build.cc</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 4 2014 09:13:00 for Ninja by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
