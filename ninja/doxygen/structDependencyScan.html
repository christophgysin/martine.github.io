<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Ninja: DependencyScan Struct Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ninja
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">DependencyScan Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="DependencyScan" -->
<p><a class="el" href="structDependencyScan.html" title="DependencyScan manages the process of scanning the files in a graph and updating the dirty/outputs_re...">DependencyScan</a> manages the process of scanning the files in a graph and updating the dirty/outputs_ready state of all the nodes and edges.  
 <a href="structDependencyScan.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="graph_8h_source.html">graph.h</a>&gt;</code></p>

<p><a href="structDependencyScan-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBuildLog.html">BuildLog</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDependencyScan.html#ad713a2aebbb6fcdc3c9c50f183f1113d">build_log</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDependencyScan.html#a5cdb50332662d4bf3f57e33c35b8a2b5">DependencyScan</a> (<a class="el" href="structState.html">State</a> *state, <a class="el" href="structBuildLog.html">BuildLog</a> *<a class="el" href="structDependencyScan.html#ad713a2aebbb6fcdc3c9c50f183f1113d">build_log</a>, <a class="el" href="structDepsLog.html">DepsLog</a> *<a class="el" href="structDependencyScan.html#a93a181c6506df4f192baf39cbadbed0a">deps_log</a>, <a class="el" href="structDiskInterface.html">DiskInterface</a> *disk_interface)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDepsLog.html">DepsLog</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDependencyScan.html#a93a181c6506df4f192baf39cbadbed0a">deps_log</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDependencyScan.html#aa4c172a1d437ec83d27635262be88981">RecomputeDirty</a> (<a class="el" href="structEdge.html">Edge</a> *edge, string *err)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Examine inputs, outputs, and command lines to judge whether an edge needs to be re-run, and update outputs_ready_ and each outputs' |dirty_| state accordingly.  <a href="#aa4c172a1d437ec83d27635262be88981"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDependencyScan.html#a0b1ec300b10142efc8559a235c4f7555">RecomputeOutputsDirty</a> (<a class="el" href="structEdge.html">Edge</a> *edge, <a class="el" href="structNode.html">Node</a> *most_recent_input)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Recompute whether any output of the edge is dirty.  <a href="#a0b1ec300b10142efc8559a235c4f7555"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDependencyScan.html#a23ecdbf0f9e1154605c34c67c6406110">set_build_log</a> (<a class="el" href="structBuildLog.html">BuildLog</a> *log)</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDependencyScan.html#ad426b831c9123de9c94da728e3dab9ef">RecomputeOutputDirty</a> (<a class="el" href="structEdge.html">Edge</a> *edge, <a class="el" href="structNode.html">Node</a> *most_recent_input, const string &amp;command, <a class="el" href="structNode.html">Node</a> *output)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Recompute whether a given single output should be marked dirty.  <a href="#ad426b831c9123de9c94da728e3dab9ef"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBuildLog.html">BuildLog</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDependencyScan.html#a1371f370f69a9f515b593912f6872f5b">build_log_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structImplicitDepLoader.html">ImplicitDepLoader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDependencyScan.html#addb3a5e9cfcdee111ec37f4b5be8dc36">dep_loader_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDiskInterface.html">DiskInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDependencyScan.html#a62e78e027296932fc65a996a5bdb7ead">disk_interface_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="structDependencyScan.html" title="DependencyScan manages the process of scanning the files in a graph and updating the dirty/outputs_re...">DependencyScan</a> manages the process of scanning the files in a graph and updating the dirty/outputs_ready state of all the nodes and edges. </p>

<p>Definition at line <a class="el" href="graph_8h_source.html#l00238">238</a> of file <a class="el" href="graph_8h_source.html">graph.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5cdb50332662d4bf3f57e33c35b8a2b5"></a><!-- doxytag: member="DependencyScan::DependencyScan" ref="a5cdb50332662d4bf3f57e33c35b8a2b5" args="(State *state, BuildLog *build_log, DepsLog *deps_log, DiskInterface *disk_interface)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDependencyScan.html#a5cdb50332662d4bf3f57e33c35b8a2b5">DependencyScan::DependencyScan</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structState.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBuildLog.html">BuildLog</a> *&#160;</td>
          <td class="paramname"><em>build_log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDepsLog.html">DepsLog</a> *&#160;</td>
          <td class="paramname"><em>deps_log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDiskInterface.html">DiskInterface</a> *&#160;</td>
          <td class="paramname"><em>disk_interface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="graph_8h_source.html#l00239">239</a> of file <a class="el" href="graph_8h_source.html">graph.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad713a2aebbb6fcdc3c9c50f183f1113d"></a><!-- doxytag: member="DependencyScan::build_log" ref="ad713a2aebbb6fcdc3c9c50f183f1113d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBuildLog.html">BuildLog</a>* <a class="el" href="structDependencyScan.html#ad713a2aebbb6fcdc3c9c50f183f1113d">DependencyScan::build_log</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="graph_8h_source.html#l00255">255</a> of file <a class="el" href="graph_8h_source.html">graph.h</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00715">Builder::FinishCommand()</a>, and <a class="el" href="graph_8cc_source.html#l00145">RecomputeOutputDirty()</a>.</p>

</div>
</div>
<a class="anchor" id="a93a181c6506df4f192baf39cbadbed0a"></a><!-- doxytag: member="DependencyScan::deps_log" ref="a93a181c6506df4f192baf39cbadbed0a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDepsLog.html">DepsLog</a>* <a class="el" href="structDependencyScan.html#a93a181c6506df4f192baf39cbadbed0a">DependencyScan::deps_log</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="graph_8h_source.html#l00262">262</a> of file <a class="el" href="graph_8h_source.html">graph.h</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00715">Builder::FinishCommand()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4c172a1d437ec83d27635262be88981"></a><!-- doxytag: member="DependencyScan::RecomputeDirty" ref="aa4c172a1d437ec83d27635262be88981" args="(Edge *edge, string *err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDependencyScan.html#aa4c172a1d437ec83d27635262be88981">DependencyScan::RecomputeDirty</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structEdge.html">Edge</a> *&#160;</td>
          <td class="paramname"><em>edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Examine inputs, outputs, and command lines to judge whether an edge needs to be re-run, and update outputs_ready_ and each outputs' |dirty_| state accordingly. </p>
<p>Returns false on failure. </p>

<p>Definition at line <a class="el" href="graph_8cc_source.html#l00060">60</a> of file <a class="el" href="graph_8cc_source.html">graph.cc</a>.</p>

<p>References <a class="el" href="graph_8h_source.html#l00274">dep_loader_</a>, <a class="el" href="graph_8h_source.html#l00166">Edge::deps_missing_</a>, <a class="el" href="graph_8h_source.html#l00273">disk_interface_</a>, <a class="el" href="debug__flags_8h_source.html#l00020">EXPLAIN</a>, <a class="el" href="graph_8h_source.html#l00162">Edge::inputs_</a>, <a class="el" href="graph_8h_source.html#l00187">Edge::is_order_only()</a>, <a class="el" href="graph_8cc_source.html#l00323">Edge::is_phony()</a>, <a class="el" href="graph_8cc_source.html#l00348">ImplicitDepLoader::LoadDeps()</a>, <a class="el" href="graph_8h_source.html#l00074">Node::mtime()</a>, <a class="el" href="graph_8h_source.html#l00163">Edge::outputs_</a>, <a class="el" href="graph_8h_source.html#l00165">Edge::outputs_ready_</a>, and <a class="el" href="graph_8cc_source.html#l00133">RecomputeOutputsDirty()</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00576">Builder::AddTarget()</a>.</p>

</div>
</div>
<a class="anchor" id="ad426b831c9123de9c94da728e3dab9ef"></a><!-- doxytag: member="DependencyScan::RecomputeOutputDirty" ref="ad426b831c9123de9c94da728e3dab9ef" args="(Edge *edge, Node *most_recent_input, const string &amp;command, Node *output)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDependencyScan.html#ad426b831c9123de9c94da728e3dab9ef">DependencyScan::RecomputeOutputDirty</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structEdge.html">Edge</a> *&#160;</td>
          <td class="paramname"><em>edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNode.html">Node</a> *&#160;</td>
          <td class="paramname"><em>most_recent_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNode.html">Node</a> *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recompute whether a given single output should be marked dirty. </p>
<p>Returns true if so. </p>

<p>Definition at line <a class="el" href="graph_8cc_source.html#l00145">145</a> of file <a class="el" href="graph_8cc_source.html">graph.cc</a>.</p>

<p>References <a class="el" href="graph_8h_source.html#l00255">build_log()</a>, <a class="el" href="build__log_8h_source.html#l00056">BuildLog::LogEntry::command_hash</a>, <a class="el" href="graph_8h_source.html#l00065">Node::exists()</a>, <a class="el" href="debug__flags_8h_source.html#l00020">EXPLAIN</a>, <a class="el" href="graph_8cc_source.html#l00288">Edge::GetBindingBool()</a>, <a class="el" href="build__log_8cc_source.html#l00091">BuildLog::LogEntry::HashCommand()</a>, <a class="el" href="graph_8h_source.html#l00162">Edge::inputs_</a>, <a class="el" href="graph_8cc_source.html#l00323">Edge::is_phony()</a>, <a class="el" href="build__log_8cc_source.html#l00341">BuildLog::LookupByOutput()</a>, <a class="el" href="graph_8h_source.html#l00074">Node::mtime()</a>, <a class="el" href="graph_8h_source.html#l00073">Node::path()</a>, and <a class="el" href="build__log_8h_source.html#l00059">BuildLog::LogEntry::restat_mtime</a>.</p>

<p>Referenced by <a class="el" href="graph_8cc_source.html#l00133">RecomputeOutputsDirty()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b1ec300b10142efc8559a235c4f7555"></a><!-- doxytag: member="DependencyScan::RecomputeOutputsDirty" ref="a0b1ec300b10142efc8559a235c4f7555" args="(Edge *edge, Node *most_recent_input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDependencyScan.html#a0b1ec300b10142efc8559a235c4f7555">DependencyScan::RecomputeOutputsDirty</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structEdge.html">Edge</a> *&#160;</td>
          <td class="paramname"><em>edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNode.html">Node</a> *&#160;</td>
          <td class="paramname"><em>most_recent_input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recompute whether any output of the edge is dirty. </p>
<p>Returns true if so. </p>

<p>Definition at line <a class="el" href="graph_8cc_source.html#l00133">133</a> of file <a class="el" href="graph_8cc_source.html">graph.cc</a>.</p>

<p>References <a class="el" href="graph_8h_source.html#l00273">disk_interface_</a>, <a class="el" href="graph_8cc_source.html#l00273">Edge::EvaluateCommand()</a>, <a class="el" href="graph_8h_source.html#l00163">Edge::outputs_</a>, and <a class="el" href="graph_8cc_source.html#l00145">RecomputeOutputDirty()</a>.</p>

<p>Referenced by <a class="el" href="build_8cc_source.html#l00409">Plan::CleanNode()</a>, and <a class="el" href="graph_8cc_source.html#l00060">RecomputeDirty()</a>.</p>

</div>
</div>
<a class="anchor" id="a23ecdbf0f9e1154605c34c67c6406110"></a><!-- doxytag: member="DependencyScan::set_build_log" ref="a23ecdbf0f9e1154605c34c67c6406110" args="(BuildLog *log)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structDependencyScan.html#a23ecdbf0f9e1154605c34c67c6406110">DependencyScan::set_build_log</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBuildLog.html">BuildLog</a> *&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="graph_8h_source.html#l00258">258</a> of file <a class="el" href="graph_8h_source.html">graph.h</a>.</p>

<p>Referenced by <a class="el" href="build_8h_source.html#l00172">Builder::SetBuildLog()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a1371f370f69a9f515b593912f6872f5b"></a><!-- doxytag: member="DependencyScan::build_log_" ref="a1371f370f69a9f515b593912f6872f5b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBuildLog.html">BuildLog</a>* <a class="el" href="structDependencyScan.html#a1371f370f69a9f515b593912f6872f5b">DependencyScan::build_log_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="graph_8h_source.html#l00272">272</a> of file <a class="el" href="graph_8h_source.html">graph.h</a>.</p>

</div>
</div>
<a class="anchor" id="addb3a5e9cfcdee111ec37f4b5be8dc36"></a><!-- doxytag: member="DependencyScan::dep_loader_" ref="addb3a5e9cfcdee111ec37f4b5be8dc36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structImplicitDepLoader.html">ImplicitDepLoader</a> <a class="el" href="structDependencyScan.html#addb3a5e9cfcdee111ec37f4b5be8dc36">DependencyScan::dep_loader_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="graph_8h_source.html#l00274">274</a> of file <a class="el" href="graph_8h_source.html">graph.h</a>.</p>

<p>Referenced by <a class="el" href="graph_8cc_source.html#l00060">RecomputeDirty()</a>.</p>

</div>
</div>
<a class="anchor" id="a62e78e027296932fc65a996a5bdb7ead"></a><!-- doxytag: member="DependencyScan::disk_interface_" ref="a62e78e027296932fc65a996a5bdb7ead" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDiskInterface.html">DiskInterface</a>* <a class="el" href="structDependencyScan.html#a62e78e027296932fc65a996a5bdb7ead">DependencyScan::disk_interface_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="graph_8h_source.html#l00273">273</a> of file <a class="el" href="graph_8h_source.html">graph.h</a>.</p>

<p>Referenced by <a class="el" href="graph_8cc_source.html#l00060">RecomputeDirty()</a>, and <a class="el" href="graph_8cc_source.html#l00133">RecomputeOutputsDirty()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li><a class="el" href="graph_8h_source.html">graph.h</a></li>
<li><a class="el" href="graph_8cc_source.html">graph.cc</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 4 2014 09:13:00 for Ninja by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
